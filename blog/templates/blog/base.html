{% load static %}
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}myblog{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'blog/css/style.css' %}">
</head>
<body>
    <header>
        <div class="header-container">
            <h1><a href="{% url 'blog:list' %}">myblog</a></h1>
            <nav>
                <a href="{% url 'blog:list' %}">記事一覧</a>
                {% if user.is_authenticated %}
                    <a href="{% url 'blog:create' %}">新規記事</a>
                    <span style="color: var(--color-text-light); margin: 0 0.5rem;">|</span>
                    <span style="color: var(--color-text); font-weight: 500;">{{ user.username }}さん</span>
                    <a href="{% url 'blog:logout' %}">ログアウト</a>
                {% else %}
                    <a href="{% url 'blog:login' %}">ログイン</a>
                    <a href="{% url 'blog:signup' %}">会員登録</a>
                {% endif %}
            </nav>
        </div>
    </header>

    <main>
        {% if messages %}
        <div style="max-width: 800px; margin: 0 auto 2rem; padding: 0 1.5rem;">
            {% for message in messages %}
            <div style="background: {% if message.tags == 'error' %}#fee{% elif message.tags == 'success' %}#efe{% else %}#eef{% endif %}; 
                        color: {% if message.tags == 'error' %}#c33{% elif message.tags == 'success' %}#3c3{% else %}#33c{% endif %}; 
                        padding: 1rem; border-radius: 8px; margin-bottom: 0.5rem; box-shadow: var(--shadow-sm);">
                {{ message }}
            </div>
            {% endfor %}
        </div>
        {% endif %}
        {% block content %}{% endblock %}
    </main>
</body>
</html>
